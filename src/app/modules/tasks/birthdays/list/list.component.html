<app-heading [level]="headerLevel.H1" [text]="header"></app-heading>

<section *ngIf="list && list.length > 0"
	class="task-list__scrollable-container hide-scrollbar">
	<section class="task-list__scrollable-list">
		<ul class="task-list">
			<li class="task-list__item" *ngFor="let birthday of list">
				<ng-container [ngTemplateOutlet]="birthdayList" 
					[ngTemplateOutletContext]="{ 'birthday': birthday }">
				</ng-container>   
			</li>
		</ul>
	</section>	
</section>

<section class="no-results flex-centered__column"
    *ngIf="list && list.length === 0">
    <app-no-items [config]="noItemsConfig"></app-no-items>
</section>

<ng-template #birthdayList let-birthday="birthday">
	<section class="task-list__photo-container">
		<img *ngIf="birthday.image" class="task-list__item-photo" src="{{ base64Prefix }}{{ birthday.image }}"/>
		<img *ngIf="!birthday.image" class="task-list__item-photo" src="./assets/images/cake.png"/>
	</section>
	<section class="task-list__item-info form-container flex-centered__column flex-stretch">
		<app-heading [level]="headerLevel.H2" [text]="birthday.name">
			<section class="actions" post>
				<app-action ariaLabel="Edit"
					[enabled]="true"
					[icon]="icon.Edit"
					(actionSelected)="editBirthday(birthday)">
				</app-action>
				<app-action ariaLabel="Delete"
					[enabled]="true"
					[icon]="icon.Delete"
					(actionSelected)="onDeleteClicked(birthday.uuid)">
				</app-action>
			</section>
		</app-heading>
		<section class="birthday">
			<p *ngIf="!birthday.lunar">{{ birthday.month }}/{{ birthday.date }}</p>
			<ng-container *ngIf="birthday.lunar">
				<p>Solar ({{ birthday.year }}) - {{ birthday.month }}/{{ birthday.date }}</p>
				<p>Lunar ({{ birthday.year }}) - {{ birthday.cmonth }}/{{ birthday.cdate }} ({{ birthday.cmonthname }})</p>
			</ng-container>
			<app-date-indicator post [status]="birthday.status"></app-date-indicator>
		</section>
		<section class="actions">
			<app-action ariaLabel="Call"
				[enabled]="birthday.call"
				[icon]="icon.Call">
			</app-action>
			<app-action ariaLabel="Text"
				[enabled]="birthday.text"
				[icon]="icon.Text">
			</app-action>
			<app-action ariaLabel="Gift"
				[enabled]="birthday.gift"
				[icon]="icon.Gift">
			</app-action>
		</section>
	</section>
</ng-template>