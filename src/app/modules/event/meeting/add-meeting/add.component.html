<section class="form-container">
	<app-heading [level]="headerLevel.H1" text="{{ meetingConfig.action }} Event"></app-heading>
    <form class="event-form"
        [formGroup]="meetingForm"
        (ngSubmit)="onSubmit()">
        <span class="form-instructions">Provide details about the meeting.</span>
		<fieldset class="name">
            <input type="text" 
                formControlName="name"
                placeholder="Event Name"/>
            <div class="input-error" *ngIf="!meetingFormControl.valid && this.submitted">
                    <span *ngIf="meetingFormControl.name.errors?.required">
                        Name is required.
                    </span>
                    <span *ngIf="meetingFormControl.name.errors?.minlength">
                        Please enter a longer name.
                    </span>
					<span *ngIf="meetingFormControl.name.errors?.maxlength">
						Name should not exceed {{ maxChars }} characters.
					</span>
            </div> 
        </fieldset>
		<fieldset class="location">
            <input type="text" 
                formControlName="location"
                placeholder="Location"/>
			<div class="input-error" *ngIf="!meetingFormControl.valid && this.submitted">
				<span *ngIf="meetingFormControl.location.errors?.maxlength">
					Location should not exceed {{ maxChars }} characters.
				</span>
			</div> 
			<app-checkbox 
				id="action-virtual"
				name="Virtual"
				checkboxName="virtual"
				[form]="meetingForm.controls.options">
			</app-checkbox>
		</fieldset>
		<fieldset class="dates">
			<app-heading [level]="headerLevel.H3" text="Date and Time">
            </app-heading>
			<span for="event-description" class="form-instructions">Choose start and end dates and times.</span>
			<app-datepicker appFocus 
				class="datepicker-container"
				placeholder="Start Date"
				fieldName="Start date"
				[calendarType]="calendarType"
				[form]="meetingForm.controls.startDate"
				[submitted]="submitted">
			</app-datepicker>
			<app-datepicker appFocus 
				class="datepicker-container"
				placeholder="End Date"
				fieldName="End date"
				[calendarType]="calendarType"
				[form]="meetingForm.controls.endDate"
				[submitted]="submitted">
			</app-datepicker>
		</fieldset>
		<fieldset class="description">
			<app-heading [level]="headerLevel.H3" text="Additional Details">
                <span class="event-form__optional" post>Optional</span>
            </app-heading>
			<span for="event-description" class="form-instructions">Add additional information about the event.</span>
            <textarea id="event-description"
				rows="5"
                formControlName="description"
                placeholder="Description"></textarea>
			<div class="input-error" *ngIf="!meetingFormControl.valid && this.submitted">
				<span *ngIf="meetingFormControl.description.errors?.maxlength">
					Description should not exceed {{ maxDescription }} characters.
				</span>
			</div> 
		</fieldset>
		<fieldset class="recurrence">
			<app-heading [level]="headerLevel.H3" text="Recurrence">
                <span class="event-form__optional" post>Optional</span>
            </app-heading>
			<span for="event-description" class="form-instructions">Choose a recurrence option for the event.</span>
			<app-select id="event-recurrence"
				[options]="recurrence"
				placeholder="Select Recurrence"
				(optionSelected)="setEventRecurrence($event)">
			</app-select>
		</fieldset>
        <fieldset class="form-actions">
            <button *ngIf="meetingConfig.action === meetingAction.Edit"
                type="button"
                class="cancel"
                (click)="onCancel()">
                Cancel
            </button>        
            <button type="submit">
                {{ meetingConfig.buttonAction }}
            </button>
        </fieldset>
    </form>
</section>